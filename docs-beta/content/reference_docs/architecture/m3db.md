---
title: "M3DB"
date: 2020-04-21T21:00:55-04:00
draft: true
---

M3DB is a persistent database with durable storage, but it is best understood via the boundary between its in-memory object layout and on-disk representations.
In-Memory Object Layout
  ┌────────────────────────────────────────────────────────────┐
   │                          Database                          │
   ├────────────────────────────────────────────────────────────┤
   │                                                            │
   │   ┌────────────────────────────────────────────────────┐   │
   │   │                     Namespaces                     │   │
   │   ├────────────────────────────────────────────────────┤   │
   │   │                                                    │   │
   │   │   ┌────────────────────────────────────────────┐   │   │
   │   │   │                   Shards                   │   │   │
   │   │   ├────────────────────────────────────────────┤   │   │
   │   │   │                                            │   │   │
   │   │   │   ┌────────────────────────────────────┐   │   │   │
   │   │   │   │               Series               │   │   │   │
   │   │   │   ├────────────────────────────────────┤   │   │   │
   │   │   │   │                                    │   │   │   │
   │   │   │   │   ┌────────────────────────────┐   │   │   │   │
   │   │   │   │   │           Buffer           │   │   │   │   │
   │   │   │   │   └────────────────────────────┘   │   │   │   │
   │   │   │   │                                    │   │   │   │
   │   │   │   │                                    │   │   │   │
   │   │   │   │   ┌────────────────────────────┐   │   │   │   │
   │   │   │   │   │       Cached blocks        │   │   │   │   │
   │   │   │   │   └────────────────────────────┘   │   │   │   │
   │   │   │   │                ...                 │   │   │   │
   │   │   │   │                                    │   │   │   │
   │   │   │   └────────────────────────────────────┘   │   │   │
   │   │   │                    ...                     │   │   │
   │   │   │                                            │   │   │
   │   │   └────────────────────────────────────────────┘   │   │
   │   │                        ...                         │   │
   │   │                                                    │   │
   │   └────────────────────────────────────────────────────┘   │
   │                            ...                             │
   │                                                            │
   └────────────────────────────────────────────────────────────┘

